# Hands-On Artificial Intelligence with Unreal Engine中文版
# 《动手学虚幻引擎中的AI》0.1粗糙版本
# 目录
* 暂时不写
# 第一部分：虚幻引擎框架
在这一部分，我们将深入探索虚幻引擎中的AI框架。我们将从什么是行为树和黑板开始，学习导航系统、环境查询系统和感知系统。在这部分的结尾，我们还将了解如何通过创建自定义任务、装饰器和服务，如何处理大量人群，以及如何扩展（蓝图和C++）行为树。
本部分将涵盖以下章节：
- 第一章 迈向AI世界的第一步
- 第二章 行为树和黑板
- 第三章 导航
- 第四章 环境查询系统
- 第五章 代理感知
- 第六章 扩展行为树
- 第七章 集群
# 第一章 迈向AI世界的第一步
从bronze giant Talos，到符号系统和神经网络：人工智能是如何被塑造和用于电子游戏的。  

各位读者，欢迎来到人工智能（简称AI）之旅的开始。你有没有想过那些在魔兽世界辛勤工作的peons是如何探索复杂的地图的？或者，那些在《吃豆人》里神采奕奕的鬼魂怎么能把你带到任何地方？或者你的对手在最终幻想中如何优化他们的攻击来屠杀你的队伍？

![](Images/1.1.jpg)

那你就来对地方了！
在本章中，我们将探讨成为一个人工智能游戏开发者的先决条件，以及人工智能在游戏开发流程中的应用。然后，我们会回顾一下AI在电子游戏中的发展历史，并了解许多大佬的共同努力如何构建了我们今天所知的人工智能。之后，我们将讨论在虚幻引擎下的人工智能框架，因为这本书将集中讨论虚幻。  

最后，我们将计划我们的学习路线，并获得本书不同章节所涉及主题的总体概述。

## 正式开始前
我想回答一些你们可能已经有的问题。  

**这本书是使用蓝图还是C++ ?**  
这本书将会讲解两者，所以不用担心。  

如果你不知道C++，你可以跟着这本书的蓝图部分，如果你愿意，你可以试试C++。  
另一方面，如果你是一个喜欢c++的程序员，那么不要担心！这本书将解释如何处理人工智能在虚幻中使用c++。  

**关于人工智能的书这么多，我为什么要选这本呢?**  
不同的书籍解释了人工智能的不同方面，它们通常不是相互排斥的，而是相辅相成的。  

然而，这本书的主要兴趣点是，它是一个在不同的人工智能系统的理论存在于虚幻和实际应用之间的妥协，因为整本书充满了具体的例子。  

**这本书提供了一个测试项目吗?**  
必须滴。您将能够从以下链接下载本书的内容:http://hog.red/AIBook2019ProjectFiles (链接区分大小写)。  

**我已经在使用虚幻引擎的AI了，这本书对我有好处吗？**  
这完全取决于你的知识水平。事实上，在这本书的第一部分，我们将主要谈论如何使用内置在虚幻引擎中的人工智能框架。这可能是你更熟悉的部分，如果你有一些虚幻中AI的经验。然而，这本书将深入探讨这些话题，甚至专家可以找到一些有用的提示。第二部分将讨论一些游戏AI的调试方法，并进行解释如何扩展它们(主要是用c++)。请随意看一看大纲，然后决定这本书是否适合你。  

**我已经在使用另一个游戏引擎了，这本书还适合我吗?**  
好吧，尽管我想说这是一本关于人工智能的通用书籍，但它不是——至少不完全是。虽然主要的焦点仍然是人工智能的主要概念，我们将着眼于在虚幻中实现它们。然而，这本书将严重依赖于在虚幻内置的AI框架。因此，我鼓励您阅读更多关于AI的一般性书籍，以获得更好的理解。另一方面，你可以随时尝试。也许，通过理解这里的一些概念，其他的书将更容易阅读，你将能够将这些知识转移到你所选择的游戏引擎中。  

**我是学生/老师，这本书适合在课堂上教学吗？**  
必须滴。我知道在课堂上找到好的资源是多么重要，我写这本书的目的就是为了这个。因此，不管你是学生还是老师，你都会在每一章的末尾找到一个部分，里面有一些练习，你可以通过这些练习来提高你的技能(如果你是老师，也可以向你的学生推荐这些练习)。此外，你可以在这里找到更多的综合材料:http://hog.red/AIBook2019LearningMaterial (链接区分大小写)。  

**这本书会涵盖所有，所有，所有关于人工智能在虚幻和所有系统的一切吗?**  
好吧，尽管我尽了最大的努力来详细描述每个系统，但是由于如此庞大的引擎的复杂性，覆盖所有内容是一项不可能完成的任务。然而，我敢说这本书涵盖了与虚幻引擎中每个AI系统相关的大部分方面，包括如何扩展内置系统以及如何高效地执行调试。因此，我可以肯定地说，这本书是非常全面的。  

## 预备知识
因为这本书是针对那些刚开始在游戏开发中使用AI的人，所以我不会假设任何关于AI的知识。但是，请考虑以下因素:  

- 蓝图用户:您应该熟悉蓝图编程，并了解蓝图的一般工作方式。

- C++用户:您应该熟悉编程，尤其是C家族语言(如C、c#、c++，甚至Java)，特别是用C++，因为它是虚幻引擎使用的语言。熟悉虚幻引擎C++API是一个优势，虽然不是要求不高。所以，即使你不是大佬，也不要担心——跟着学，你就能够学会。  

此外，如果你对向量数学和物理运动学原理有一些了解就好了——至少是在视频游戏中常用的那些。不管怎样，如果你对这些感到生疏，不要太担心，因为这本书不需要;不过，如果你想找一份做AI开发的兼职工作，这也是个不错的选择。

## 安装软件
在你继续阅读之前，让我们先安装我们需要的软件——虚幻引擎和Visual Studio。

### 虚幻引擎
让我们谈谈虚幻引擎。毕竟，这是一本关于如何在这个出色的游戏引擎中开发游戏AI的书。  

虚幻引擎是一款由Epic Games公司开发的游戏引擎。它于1998年首次发布，由于它强大的功能，现在它是最常用的(开放)游戏引擎之一(与Unity一起)。如下截图为虚幻引擎主界面:

![](Images/1.2.jpg)  

我们需要安装最新版本的虚幻引擎。你可以访问 https://www.unrealengine.com/en-us/what-unreal-enging-4 找到它。除非你选择源代码版本虚幻引擎(https://docs.unrealengine.com/en-us/Programming/Development/BuildingUnrealEngine)中，您将安装Epic启动程序。如果您是一个蓝图用户，并且不打算使用C++，那么这就足够了。另一方面，如果您将使用C++，则需要执行一些额外的步骤。  

在安装引擎时，您需要检查一些选项(如果您正在使用C++)。我们需要检查是否同时具有“Engine Source”和“Editor symbols for debugging”，如下图所示：

![](Images/1.3.jpg)  

通过这样做，我们将能够在C++引擎源代码中导航，并在崩溃的情况下拥有完整的调用堆栈(因此您将知道哪里出错了)。  

### Visual Studio
如果您正在使用蓝图，则不需要这样做—这仅适用于C++用户。  

事实上，我们需要一个IDE来编辑我们的c++代码。因为Visual Studio与虚幻引擎的完美结合，我们将使用Visual Studio。您将能够通过官方网站免费下载Visual Studio Community Edition，https://www.visualstudio.com，或从 https://visualstudio.microsoft.com/vs/。  

您可能还会发现关于如何设置Visual Studio的简短指南:https://docs.unrealengine.com/en-us/Programming/Development/VisualStudioSetup。  

一旦你安装好了所有的东西，我们就可以继续本章剩下的内容了。

## 成为一名AI游戏开发人员
你是否梦想过成为一名AI游戏开发者?或者只是能够编写“智能”程序?那么这本书是为你量身定做的!  

然而，我必须告诉你，这不是一件容易的事。  

游戏开发和设计是一些最广泛的艺术作品。这是因为需要大量的专业知识才能使游戏焕发生机。你可以通过观察游戏中的最终得分来了解这一点。它们是无穷无尽的，包含了许多人的名字，他们在游戏中投入了大量的时间，扮演着各种各样的角色。人工智能的发展是这个大过程的核心部分，它需要多年的时间来掌握，就像生活中的大多数事情一样。因此，迭代是关键，也是本书的一个很好的起点。

### 成为AI游戏开发者意味着什么
首先，你需要掌握数学、物理和编程。此外，您很可能会在一个跨学科的团队中工作，其中包括艺术家、设计师和程序员。事实上，您可能会使用现有的专有软件技术，并且需要能够构建新技术来满足项目的技术需求。您将被要求研究编码技术和算法，以使自己跟上游戏行业的技术发展和进步，并识别技术和开发风险/障碍，并得出解决方案来解决已知的风险。  

另一方面，你将能够在电子游戏中赋予角色和实体生命。在经历了所有的挫折之后，你将是第一个帮助或更好地在游戏中创造出智能行为的人。这需要时间，也很有挑战性，所以在早期阶段不要对自己太苛刻。一旦你在游戏中实现了一些真正的能够独立思考的AI，这便是一种值得奖励的成就。  

对于人工智能的初学者来说，这本书将帮助你朝着这个目标迈出第一步。对于专家来说，这本书将提供一个有用的指南来学习在虚幻中不同的人工智能系统，并深入探索，可能有助于您的工作。

### 游戏开发过程中的AI
游戏开发流程可能会有很大的不同，这取决于您的工作室，但是所有这些流程都会创建一个电子游戏。这不是一本关于流程的书，所以我们不会去探索它们，但是对于AI的配置有一个大致的概念是很重要的。  

事实上，AI与游戏开发流程的许多部分是交叉的。这里是一些主要的：
- **动画**：这可能会让你们中的一些人感到惊讶，但是有很多关于这个话题的研究正在进行中。有时候，动画和AI会重叠。例如，开发人员需要解决的问题之一是如何程序化地为角色生成数百个动画，这些动画可以真实地表现，以及它们之间如何交互。事实上，解决逆向运动学(IK)是一个数学问题，但在无限的解决方案中选择哪一个来实现目标(或只是提供一个现实的外观)是一个人工智能任务。在本书中我们不会遇到这个具体的问题，但是最后一章将提供一些观点，您可以在其中了解更多关于这个问题的信息。

- **关卡设计**：如果一款游戏自动生成关卡，那么AI便会在该游戏中扮演重要角色。程序内容生成(PCG)是当前游戏领域的一个热点问题。有些游戏完全基于PCG。
不同的工具程序生成高度地图可以帮助水平设计师实现了逼真的景观和环境。这确实是一个值得探讨的广泛话题。

- **游戏引擎**：当然，在游戏引擎中，有许多AI算法在起作用。其中一些是专门针对代理的，而其他的只是改进引擎的特性和/或任务。这些代表了最广泛的类别，它们可以从简单的算法根据上下文调整Bezier曲线，到为动画实现行为树或有限状态机。在引擎外表下，这里发生了很多事情。我们将在本书中探讨其中的一些概念，但要记住的是，算法可以用来解决类似的问题在不同的领域。事实上，如果使用有限状态机(FSMs)来做决策，为什么不使用它们来“决定”要播放哪个动画呢?或者为什么不处理整个游戏逻辑(即虚幻引擎中的蓝图可视化脚本)?

- **NPCs**：这是游戏中的AI的最明显的例子，这也是玩家最明显的AI(我们将在第一章中探讨更多关于AI和玩家之间的关系)。这是这本书的大部分重点;也就是说，从移动角色(例如，使用寻路算法)到做出决策(例如，使用行为树)，或者与其他npc(多代理系统)协作。

不幸的是，我们没有足够的空间来处理这本书中的所有主题。因此，我们将只关注最后一部分(npc)，并探索内置在虚幻引擎中的人工智能框架。

## 简史
在开始我们的学习之前，我相信对AI和AI在游戏中的历史有一个大致的概述是有益的。当然，如果你是一个动手能力更强的人，你可以跳过这一部分，因为你已经等不及要开始编写人工智能程序了。

### 什么是AI？
这是一个非常有趣的问题，它没有唯一的答案。事实上，不同的答案会导致不同方面。让我们探索一下不同学者(按时间顺序)给出的一些(许多)定义。  

事实上，Russell和Norvig在他们的书中，将这些特定的定义分为四类。这是他们的模式:  

![](Images/1.4.jpg)

Russell和Norvig的四个类别。左上:“像人类一样思考的系统”。右上:“理性思考的系统”。左下:“像人类一样的系统”。右下:“行为理性的系统”。  

我们没有时间详细讨论“什么是AI?”这个问题，但这本书的最后一章也将包括一些哲学参考，在这个主题你可以拓展你的知识。

### 往事一瞥
你们中的一些人可能会感到意外，但人工智能的故事早在电脑出现之前就已经开始了。事实上，甚至古希腊人也假设存在智能机器。一个著名的例子是bronze giant Talos，他保护的城市克里特岛的入侵者。另一个是赫菲斯托斯的黄金帮手，他在火山中帮助上帝和独眼巨人一起锻造。在十七世纪，雷内笛卡尔曾写过关于会思考的机器人的文章，他认为动物与机器不同，机器可以用滑轮、活塞和凸轮来复制。  

然而，这个故事的核心开始于1931年，当奥地利逻辑学家、数学家和哲学家科特·哥德尔证明了所有一阶逻辑的真实陈述都是可推导的。另一方面，这对于高阶逻辑是不正确的，在高阶逻辑中，一些正确(或错误)的陈述是无法证明的。这使得一阶逻辑成为自动化派生逻辑结果的良好候选。听起来复杂吗?好吧，你可以想象这在他的传统主义同龄人的耳朵里是怎么听来的。  

![](Images/1.5.jpg)

1937年，英国计算机科学家、数学家、逻辑学家、密码分析员、哲学家和理论生物学家艾伦·图灵（Alan Turing）指出了“智能机器”的一些局限性：除非程序实际运行，否则无法预知它是否会终止。这在理论计算机科学中有许多结果。然而，最基本的一步发生在13年后的1950年，当时艾伦·图灵写了一篇著名的论文《Computing Machinery and Intelligence》，在这篇论文中他谈到了模仿游戏，现在主要被称为“图灵测试”：一种定义什么是智能机器的方法。  

20世纪40年代，人们曾尝试模拟生物系统:1943年，麦卡洛克和皮茨建立了神经元的数学模型,1951年，明斯基发明了一种能够用3000个真空管模拟40个神经元的机器。然而，他们陷入了困境之中。  

从20世纪50年代末到80年代初，大部分的人工智能研究都是致力于“符号系统”。它们基于两个组件:一个由符号组成的知识库和一个推理算法，后者使用逻辑推理来操作这些符号，以扩展知识库本身。  

在这一时期，许多大佬取得了重大的进步。值得一提的是麦卡锡（McCarthy），他于1956年在达特茅斯学院（Dartmouth College）组织了一次会议，在那里“人工智能”一词最早诞生。两年后，他发明了高级编程语言LISP，第一批能够自我修改的程序就是在LISP中编写的。其他显著的成果包括1959年Gelernter的几何定理证明，1961年Newell和Simon的通用问题求解器（GPS），以及Weizenbaum的著名聊天机器人Eliza，这是1966年第一个可以用自然语言进行对话的软件。最后，随着法国科学家阿兰·普罗格的发明，符号系统在1972年达到了顶峰。  

符号系统引出了许多AI技术，这些技术仍然在游戏中使用，例如黑板架构、寻路、决策树、状态机和转向算法，我们将在本书中探索所有这些技术。  

这些系统的权衡是知识和搜索之间的权衡。你拥有的知识越多，你需要搜索的知识就越少，你搜索的速度越快，你需要的知识就越少。这已经被数学证明了Wolpert和Macready在1997年。我们将有机会在本书后面更详细地研究这种取舍。  

20世纪90年代初，符号系统变得不充分，因为它们很难扩展到更大的问题。同时，也有一些哲学上的争论反对他们，认为符号系统是一个不相容的有机智能模型。因此，受到生物学启发的新老技术得到了发展。随着1986年Nettalk的成功，旧的神经网络被重新拾起。Nettalk是一个能够学习大声朗读的程序，同年鲁梅尔哈特和麦克莱伦德出版了《并行分布式处理》一书。事实上，“反向传播”算法被重新发现了，因为它们允许使用神经网络(NN)真正学习。  

在人工智能的近30年里，研究有了新的方向。Pearl在“Probabilistic reasoning in intelligent systems”的工作中，采用了概率作为处理不确定性的主要工具之一。因此，人工智能开始使用许多统计技术，如贝叶斯网络、支持向量机
(SVMs)、高斯过程和马尔可夫隐模型，广泛用于表示系统状态的时间演化。此外，大型数据库的引入开启了人工智能的许多可能性，一个名为“深度学习”的全新分支应运而生。  

然而，重要的是要记住，即使人工智能研究人员发现了新的和更先进的技术，旧的不能被丢弃。事实上，我们将会看到，如何根据问题和它的大小，一个特定的算法可以发光。

### 游戏中的AI
电子游戏中人工智能的历史和我们在前一节中讨论的一样有趣。我们没有时间去详细地分析每一款游戏，以及每一款游戏的贡献。对于你们中最好奇的人来说，在本书的结尾，你会发现其他的演讲、视频和书籍可以让你更深入地研究游戏中的AI历史。  

电子游戏中的第一种形式的人工智能是基础的，并用于像乒乓球这样的游戏中
[雅达利，1972]，太空入侵者[中途游戏西部公司，1978]，等等。事实上，除了移动球拍试图接住球，或将外星人推向玩家，我们能做的就不多了:

![](Images/1.6.jpg)

第一个使用明显人工智能的著名游戏是《吃豆人》(Pac-Man)。这四个怪物(后来由于雅达利2600的一个闪烁的端口而被命名为鬼魂)使用FSM追逐(或逃离)玩家:

![](Images/1.7.jpg)

在20世纪80年代，游戏中的AI并没有太大的改变。直到《魔兽争霸:人类与兽人》的问世[暴雪娱乐，1994]，一个寻路系统才得以在一款电子游戏中成功实现。我们将在第3章“导航”中探索虚幻中的导航系统:

![](Images/1.8.jpg)

可能是《黄金眼007》让人们开始对人工智能产生了兴趣[Rare Ltd.， 1997]，它展示了AI如何改善游戏玩法。虽然它仍然依赖FSMs，但创新之处在于角色可以看到彼此，并采取相应的行动。我们将在第五章Agent中探讨Agent Awareness。这在当时是一个热门话题，一些游戏将其作为主要的游戏机制，如《小偷:黑暗计划》和《合金齿轮》。

![](Images/1.9.jpg)

![](Images/1.10.jpg)

另一个热门话题是模拟士兵在战斗中的情绪。其中的一个第一个实现情感模式的游戏是《战锤:黑暗》但它只是与幕府将军:全面战争这些模型在没有性能问题的大量士兵身上获得了极大的成功:

![](Images/1.11.jpg)

![](Images/1.12.jpg)

一些游戏甚至将AI作为游戏玩法的核心。虽然最早这样做的游戏之一是Creatures [Cyberlife Technology Ltd.， 1997]，但这一概念在《模拟人生》或Black and White等游戏中更为明显：

![](Images/1.13.jpg)

在过去的20年里，许多人工智能技术被采用和/或开发。然而，如果游戏不需要高级AI，你可能会发现FSMs仍然被广泛使用，还有行为树，我们将在第二章“行为树和黑板”中开始探讨。

### 游戏中的AI-工业和学术界
当谈到应用于电子游戏的人工智能时，无论是在学术界还是在业界，都存在很大的差异。让我们来看看背后的原因。事实上，他们有不同的目标。  

学术界希望为那些能够在环境中进行**智能思考**并与玩家互动的游戏创造AI代理。  

另一方面，游戏产业想要为那些能够在环境中进行好像能智能思考并与玩家互动的游戏创造AI代理。（有问题）  

我们可以清楚地注意到，第一个导致一个更现实的AI，而第二个导致一个更可信的AI。当然，商业游戏更担心的是后者而不是前者。  

我们将在第14章“超越”中更详细地探讨这一概念，当我们讨论为游戏创造AI系统所涉及的心理学和游戏设计时。事实上，为了达到一个可信的行为，你经常需要努力做到真实。  

然而，在更正式的术语中，我们可以说游戏AI属于弱AI(与强AI相反)，它专注于智能地解决特定的任务或问题，而不是在其背后发展一种意识。在任何情况下，我们都不会再深入探讨这个问题。

## 学习计划
在进入下一章之前，是时候开始计划我们的学习路线了。

### 专业用语
因为，对你们中的一些人来说，这是你们第一次接触人工智能，所以你有一个贯穿本书的技术术语的小词汇表是很重要的(一般来说，在人工智能中)在过去的几页中，我们已经遇到了其中一些问题:

- **Agents**是能够自主推理解决特定目标集的系统。
- **Backward Chaining**是通过逆向工作来跟踪问题原因的过程。
- **Blackboard**是用于在不同代理之间交换数据的架构，有时甚至在代理本身内部交换数据(特别是在Unreal中)。
- **Environment**是一个代理存在的世界。例如，游戏世界是来自同一款游戏的NPC的环境。另一个例子是国际象棋棋盘，它表示与人类(或其他系统)对弈的系统的环境。
- **Forward Chaining**，与反向链接相反，是向前查找问题的解决方案的过程。
- **Heuristic**是解决问题的一种实际方法，它不能保证是最优的，也不能满足当前的目标。启发式方法用于寻找问题的最优解是不切实际的(如果不是不可能的话)，以找到一个满意的解决方案。它们可以被认为是减轻决策过程中认知负荷的心理捷径。有时，它可以表示基于agent过去经验的知识(尽管这通常是先验的)。“启发式”一词源于古希腊，意为“发现”或“发现”。

### 自下而上的模式
通常，当一个系统被建立或研究时，有两种主要的方法:自上而下和自下而上。前者从系统的高层结构开始，逐步进入系统的粒度细节。后者从基础开始，然后继续创建更复杂的结构，这些结构依赖于前面的结构。这两种方法都是有效的，但是，作为一种偏好，我选择了自下而上的方法来介绍本书的主题。  

事实上，我们将从一个代理如何移动开始，然后理解它如何感知，最后使用这些数据做出有意义的决策，甚至提出一个计划。这反映在这本书的结构和它的部分。

### 代理模式
在这本书中，我们将经历人工智能如何感知、移动、计划和与周围环境互动的不同部分，所以画一个模式将会很有用。当然，还有许多其他的模式，它们都是同样有效的，但我相信这一模式对于开始AI游戏开发特别有用:

![](Images/1.14.jpg)

因为我们选择了自底向上的方法，所以我们应该从底层读取模式。我们将以更正式的术语将其称为我们的代理模型。

首先，我们可以看到代理总是与游戏交换信息世界，其中包括几何，物理，动画，但也抽象的。此信息用于代理模型的所有级别。

从底部我们可以看到，我们首先关心的是如何在环境中移动。这是一个过程，可以分为运动和寻路(第3章，导航)。沿着链条往上，我们可以看到主体感知世界
(第4章，环境查询系统，第5章，Agent感知)，并且，基于这种感知，Agent可以做出决策(第2章，行为树和黑板)。有时候，在那个时刻及时做出最好的决定，从长远来看可能不会导致更好的结果，因此代理应该能够提前计划。通常，在电子游戏中，AI系统(不一定是NPC)可以控制多个角色，因此，它应该能够协调一组角色。最后，代理可能需要与其他代理协作。当然，我们不可能深入探讨本书中的每个主题，但是请随意在网上浏览一下，这样您就可以更深入地研究某些主题。

最后一点:游戏中的AI通常不会同时使用所有这些关卡;有些只实现其中的一个，或者将它们混在一起。然而，在开始使用它们之前，记住它们的结构是很重要的。

### 虚幻引擎中的AI框架
相对其他游戏引擎，这只是给你的渲染能力，虚幻引擎实现了很多东西(并通过插件进行扩展)。这并不意味着创造一款游戏更容易，而是我们拥有更多工具去开发一款游戏。

事实上，虚幻引擎也实现了很多人工智能工具。在探索这些工具时，我们可以创建这些工具的模式，以及它们之间如何相互关联。那么，让我们试着理解我们要在哪个层次上操作。这意味着抓到了Unreal Game Play Framework 的表面(你可以在这里找到更多的信息:https://docs.unrealengine.com/en-us/Gameplay/Framework)。

有一个控制器类，它可以分为两个子类。第一个是Player Controller;顾名思义，它提供了游戏和玩家之间的接口(当然，这不在本书的讨论范围内，因为我们将关注AI而不是一般的游戏玩法)。第二个类是AIController，它提供了我们的AI算法和游戏本身之间的接口。

下图展示了它们之间的相互作用:

![](Images/1.15.jpg)

这两种控制器都可以拥有Pawn,，可以被认为是虚拟的化身。对于玩家来说，这可能是主角;对于一个AIController来说，Pawn可以是想要打败玩家的敌人。

在这本书中，我们将只关注AIController，以及它周围和下面的所有工具来将我们的AI带到生活中(我们将不会覆盖前面图表中的虚线部分)。我们将在稍后的阶段理解我的意思，但是关键的概念是我们将在一个AIController的层面上运作。

### 学习路线梗概
现在我们有了一个我们要使用的粗略的模式,让我们来分解一下这本书的内容，,我们将面临的顺序或多或少的话题。

你可以把这本书分为三个部分:
- 第2-7章:对内置人工智能系统的描述
- 第8-10章:如何使用我们在前几章中探索的人工智能系统的具体例子
- 第11-13章:游戏的不同调试方法的描述人工智能(因为我认为这部分与了解系统本身同样重要)

让我们来详细讨论一下这本书的内容。

#### 决策与行为树(第2，6，8，9，10章)
一旦主体可以感知到周围的世界，它就需要开始做出决定，这就会产生后果。有些决策过程可能会变得非常复杂，以至于代理需要制定适当的计划来成功地实现目标。

虚幻引擎框架内置的AI围绕行为树构建，这占据了本书的重要部分。当然，这并不排除在你自己的决策中实现其他AI系统的可能性，但是，通过选择行为树，您将拥有一组强大的工具，我们将在本书中详细探讨。

#### 导航(第3，7章)
除非游戏是离散的或回合制的，否则每个AI代理都需要在自己的环境中以连续的方式移动。虚幻提供了强大的导航系统，让你的人工智能代理在环境中轻松导航，从下降到跳跃，从蹲伏到游泳，到不同的领域和不同类型的代理。

这个系统是如此庞大，它将很难涵盖所有，但我们将尽我们最大的努力涵盖一切，你需要开始在第3章。

#### 环境查询系统(第4，12章)
环境查询系统(ESQ)可以从围绕代理的环境中收集信息，从而允许代理做出相应的决策。这本书用了一整章的篇幅来介绍这个系统。事实上，它位于第5章，代理意识和决策之间，它是一个已经嵌入到虚幻中的很好的资源。

#### 代理意识(第5，12章)
智能体意识(或知觉)处理赋予智能体感官的能力。特别地，我们将涵盖视觉，这是最常见和广泛使用，但也听觉和嗅觉。

此外，我们将开始探索如何在更高级别的结构中使用这些数据，以便代理可以相应地进行操作。

#### 集群(第7章)
当你的地图中有许多AI代理时，环境很容易变得拥挤，各种代理之间可能会相互干扰。群体系统允许你控制大量的AI代理(同时他们可以保持个人行为)，这样他们就可以避免彼此。

#### 设计行为树(第8，9，10章)
AI开发人员仅仅知道行为树如何工作是不够的:他/她需要知道如何设计它们。事实上，你的大部分工作是创建一个抽象的系统来协调你所有的AI代理，只有在那之后你才会花剩下的时间来实现它。因此，我们将介绍如何设计、创建单个块和构建整个行为的一个大型行为树从头开始。

#### AI游戏调试方法(第11，12，13章)
一旦你了解了所有不同的AI系统，你就可以开始在这些系统上进行试验或编写游戏程序，但你如何理解你的AI是否在做你所计划的和/或表现良好呢?调试方法在任何软件中都是关键，但在游戏AI中，你还需要可视化调试。因此，虚幻引擎提供了许多调试方法(包括一些专门针对AI的方法)，我坚信了解这些方法是非常重要的。您不仅可以学习这些工具，还可以学习如何根据需要扩展它们。

#### 超越(第14章)？？？
这本书的最后一部分将探索一些目前在人工智能世界令人兴奋的想法和创新，并将给你的灵感继续你的精彩旅程。我将介绍一些正在进行的AI应用于游戏的研究，以及这如何最终有益于你的游戏。了解新技术和算法是这个领域的关键，这样你就可以一直跟上时代。

### 为C++用户启用AI
如果你这本书作为C++用户后,当您在您的项目编写C++代码(或一个特定的项目或模块插件),您将需要确保你添加正确的依赖关系,以便访问AI系统,否则你最终会编译错误。我们将在下一章创建一个项目，用于插入将在本书中生成的所有代码时更详细地讨论这个问题。但是，下面是要在.cs项目文件中插入/修改代码的代码行(以粗体显示的代码部分是用于AI):

## 总结
在这一章中，我们看到了电子游戏中的人工智能世界是多么美妙。我们探索了电子游戏背后的历史，无论是在学术界还是在业界。我们在这本书中计划了我们的学习计划，并解释了它将会是什么样子。

现在，是时候让我们自己做好准备了，因为，从下一章开始，我们将动手操作虚幻引擎。